<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Settings</title>

<!-- Internal CSS for hover effect -->
<style>
  .profile-picture-section {
    position: relative;
    display: inline-block;
    margin-bottom: 20px;
  }

  .clickable-avatar {
    width: 120px;
    height: 120px;
    border-radius: 10%;
    object-fit: cover;
    border: 2px solid #999;
    transition: transform 0.2s ease, filter 0.2s ease;
    cursor: pointer;
    display: block;
  }

  /* Hover effect: slightly scale and darken */
  .profile-picture-container {
    position: relative;
    display: inline-block;
  }

  .overlay-text {
    position: absolute;
    top: 0;
    left: 0;
    width: 120px;
    height: 120px;
    border-radius: 10%;
    background-color: rgba(0,0,0,0.4);
    color: white;
    font-weight: bold;
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.2s ease;
    pointer-events: none;
    text-align: center;
  }

  .profile-picture-container:hover .overlay-text {
    opacity: 1;
  }

  .profile-picture-container:hover .clickable-avatar {
    transform: scale(1.05);
    filter: brightness(0.8);
  }

  .action-btn {
    margin-top: 8px;
    padding: 6px 12px;
    cursor: pointer;
  }

  .form-message {
    margin-top: 5px;
    font-size: 0.9rem;
  }

  .error-message {
    color: red;
  }

  .success-message {
    color: green;
  }
</style>

<link rel="stylesheet" href="style.css">
</head>
<body>

<header class="main-header">
    <nav class="header-nav">
        <a href="search.html" class="header-logo">MyShelf</a>
        <a href="index.html">Home</a>
        <a href="users.html">Community</a>
        <a href="search.html">Database</a>
        <a href="messenger.html" class="active">âœ‰</a>
    </nav>
    <div class="header-tools" id="headerTools"></div>
</header>

<div class="settings-container">
  <h2>Account Settings</h2>

  <div>Role: <span id="currentRole">Not set</span></div>
<div class="two-column-row ">
  <!-- PROFILE PICTURE -->
   <div>
  <div class="profile-picture-section">
    <h3>Profile Picture</h3>

    <div class="profile-picture-container">
      <img id="profilePicPreview"
          src="https://via.placeholder.com/180?text=No+Image"
          alt="Profile Picture"
          class="clickable-avatar">

      <div class="overlay-text">Click to change</div>
    </div>

    <form id="profilePicForm">
      <input type="file" id="profilePicInput" accept="image/*" style="display:none;">
      <button type="submit" class="action-btn">Save Picture</button>
      <p id="profilePicMessage" class="form-message"></p>
    </form>
  </div>
  </div>
<div style="margin-top: 62px;">
  <!-- USERNAME -->
  <form id="usernameForm">
    <label>Username</label>
    <p>Now: <span id="currentUsername">Loading...</span></p>
    <input type="text" id="usernameInput" placeholder="Enter new username" class="modern_text_field">
    <button type="submit" class="action-btn">Update Username</button>
    <p id="usernameMessage" class="form-message"></p>
  </form>
</div>
</div>
  <!-- EMAIL -->
  <form id="emailForm">
    <label>Email</label>
    <p>Now: <span id="currentEmail">Loading...</span></p>
    <input type="email" id="emailInput" placeholder="Enter new email" class="modern_text_field">
    <button type="submit" class="action-btn">Update Email</button>
    <p id="emailMessage" class="form-message"></p>
  </form>

  <!-- PASSWORD -->
  <form id="passwordForm">
    <label for="passwordInput">New Password</label>
    <input type="password" id="passwordInput" placeholder="Enter new password" class="modern_text_field">
    <button type="submit" class="action-btn">Update Password</button>
    <p id="passwordMessage" class="form-message"></p>
  </form>

  <button id="logoutBtn" class="action-btn logout-btn">Logout</button>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script> 
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>

<!-- Your Configuration -->
<script type="module" src="firebase-config.js"></script> 

<!-- Settings JS -->
<script type="module" src="settings.js"></script>

</body>
</html>
